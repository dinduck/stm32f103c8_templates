ARM GAS  /tmp/ccPKNLrh.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f10x_spi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c"
  18              		.section	.text.SPI_I2S_DeInit,"ax",%progbits
  19              		.align	1
  20              		.global	SPI_I2S_DeInit
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	SPI_I2S_DeInit:
  26              	.LVL0:
  27              	.LFB29:
   1:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
   2:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
   3:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @file    stm32f10x_spi.c
   4:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @author  MCD Application Team
   5:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @version V3.6.2
   6:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @date    17-September-2021
   7:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief   This file provides all the SPI firmware functions.
   8:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
   9:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @attention
  10:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *
  11:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * Copyright (c) 2012 STMicroelectronics.
  12:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * All rights reserved.
  13:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *
  14:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * This software is licensed under terms that can be found in the LICENSE file
  15:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * in the root directory of this software component.
  16:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  17:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *
  18:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
  19:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  20:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  21:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* Includes ------------------------------------------------------------------*/
  22:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #include "stm32f10x_spi.h"
  23:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #include "stm32f10x_rcc.h"
  24:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  25:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  26:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  27:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  28:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  29:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI 
  30:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief SPI driver modules
  31:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
ARM GAS  /tmp/ccPKNLrh.s 			page 2


  32:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */ 
  33:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  34:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_TypesDefinitions
  35:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  36:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  37:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  38:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  39:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  40:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */ 
  41:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  42:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  43:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Defines
  44:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  45:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  46:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  47:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI SPE mask */
  48:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_SPE_Set          ((uint16_t)0x0040)
  49:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_SPE_Reset        ((uint16_t)0xFFBF)
  50:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  51:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* I2S I2SE mask */
  52:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_I2SE_Set     ((uint16_t)0x0400)
  53:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_I2SE_Reset   ((uint16_t)0xFBFF)
  54:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  55:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI CRCNext mask */
  56:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCNext_Set      ((uint16_t)0x1000)
  57:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  58:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI CRCEN mask */
  59:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCEN_Set        ((uint16_t)0x2000)
  60:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCEN_Reset      ((uint16_t)0xDFFF)
  61:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  62:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI SSOE mask */
  63:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR2_SSOE_Set         ((uint16_t)0x0004)
  64:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR2_SSOE_Reset       ((uint16_t)0xFFFB)
  65:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  66:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI registers Masks */
  67:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CLEAR_Mask       ((uint16_t)0x3040)
  68:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_CLEAR_Mask   ((uint16_t)0xF040)
  69:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  70:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI or I2S mode selection masks */
  71:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define SPI_Mode_Select      ((uint16_t)0xF7FF)
  72:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_Mode_Select      ((uint16_t)0x0800) 
  73:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  74:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* I2S clock source selection masks */
  75:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S2_CLOCK_SRC       ((uint32_t)(0x00020000))
  76:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S3_CLOCK_SRC       ((uint32_t)(0x00040000))
  77:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_MUL_MASK         ((uint32_t)(0x0000F000))
  78:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_DIV_MASK         ((uint32_t)(0x000000F0))
  79:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  80:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  81:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  82:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  83:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  84:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Macros
  85:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  86:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  87:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  88:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
ARM GAS  /tmp/ccPKNLrh.s 			page 3


  89:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  90:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  91:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  92:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Variables
  93:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  94:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  95:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  96:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  97:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  98:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  99:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 100:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_FunctionPrototypes
 101:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
 102:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 103:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 104:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 105:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
 106:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 107:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 108:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Functions
 109:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
 110:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 111:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 112:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 113:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Deinitializes the SPIx peripheral registers to their default
 114:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         reset values (Affects also the I2Ss).
 115:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 116:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 117:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 118:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_DeInit(SPI_TypeDef* SPIx)
 119:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
  28              		.loc 1 119 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 119 1 is_stmt 0 view .LVU1
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
 120:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 121:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
  38              		.loc 1 121 3 is_stmt 1 view .LVU2
 122:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 123:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPIx == SPI1)
  39              		.loc 1 123 3 view .LVU3
  40              		.loc 1 123 6 is_stmt 0 view .LVU4
  41 0002 154B     		ldr	r3, .L9
  42 0004 9842     		cmp	r0, r3
  43 0006 06D0     		beq	.L6
 124:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 125:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable SPI1 reset state */
 126:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, ENABLE);
 127:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI1 from reset state */
 128:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, DISABLE);
 129:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
ARM GAS  /tmp/ccPKNLrh.s 			page 4


 130:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else if (SPIx == SPI2)
  44              		.loc 1 130 8 is_stmt 1 view .LVU5
  45              		.loc 1 130 11 is_stmt 0 view .LVU6
  46 0008 144B     		ldr	r3, .L9+4
  47 000a 9842     		cmp	r0, r3
  48 000c 0ED0     		beq	.L7
 131:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 132:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable SPI2 reset state */
 133:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, ENABLE);
 134:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI2 from reset state */
 135:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, DISABLE);
 136:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 137:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 138:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 139:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if (SPIx == SPI3)
  49              		.loc 1 139 5 is_stmt 1 view .LVU7
  50              		.loc 1 139 8 is_stmt 0 view .LVU8
  51 000e 144B     		ldr	r3, .L9+8
  52 0010 9842     		cmp	r0, r3
  53 0012 16D0     		beq	.L8
  54              	.LVL1:
  55              	.L1:
 140:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 141:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Enable SPI3 reset state */
 142:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE);
 143:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Release SPI3 from reset state */
 144:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, DISABLE);
 145:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 146:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 147:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
  56              		.loc 1 147 1 view .LVU9
  57 0014 08BD     		pop	{r3, pc}
  58              	.LVL2:
  59              	.L6:
 126:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI1 from reset state */
  60              		.loc 1 126 5 is_stmt 1 view .LVU10
  61 0016 0121     		movs	r1, #1
  62 0018 4FF48050 		mov	r0, #4096
  63              	.LVL3:
 126:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI1 from reset state */
  64              		.loc 1 126 5 is_stmt 0 view .LVU11
  65 001c FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  66              	.LVL4:
 128:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
  67              		.loc 1 128 5 is_stmt 1 view .LVU12
  68 0020 0021     		movs	r1, #0
  69 0022 4FF48050 		mov	r0, #4096
  70 0026 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  71              	.LVL5:
  72 002a F3E7     		b	.L1
  73              	.LVL6:
  74              	.L7:
 133:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI2 from reset state */
  75              		.loc 1 133 5 view .LVU13
  76 002c 0121     		movs	r1, #1
  77 002e 4FF48040 		mov	r0, #16384
  78              	.LVL7:
ARM GAS  /tmp/ccPKNLrh.s 			page 5


 133:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI2 from reset state */
  79              		.loc 1 133 5 is_stmt 0 view .LVU14
  80 0032 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  81              	.LVL8:
 135:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
  82              		.loc 1 135 5 is_stmt 1 view .LVU15
  83 0036 0021     		movs	r1, #0
  84 0038 4FF48040 		mov	r0, #16384
  85 003c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  86              	.LVL9:
  87 0040 E8E7     		b	.L1
  88              	.LVL10:
  89              	.L8:
 142:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Release SPI3 from reset state */
  90              		.loc 1 142 7 view .LVU16
  91 0042 0121     		movs	r1, #1
  92 0044 4FF40040 		mov	r0, #32768
  93              	.LVL11:
 142:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Release SPI3 from reset state */
  94              		.loc 1 142 7 is_stmt 0 view .LVU17
  95 0048 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  96              	.LVL12:
 144:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
  97              		.loc 1 144 7 is_stmt 1 view .LVU18
  98 004c 0021     		movs	r1, #0
  99 004e 4FF40040 		mov	r0, #32768
 100 0052 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 101              	.LVL13:
 102              		.loc 1 147 1 is_stmt 0 view .LVU19
 103 0056 DDE7     		b	.L1
 104              	.L10:
 105              		.align	2
 106              	.L9:
 107 0058 00300140 		.word	1073819648
 108 005c 00380040 		.word	1073756160
 109 0060 003C0040 		.word	1073757184
 110              		.cfi_endproc
 111              	.LFE29:
 113              		.section	.text.SPI_Init,"ax",%progbits
 114              		.align	1
 115              		.global	SPI_Init
 116              		.syntax unified
 117              		.thumb
 118              		.thumb_func
 120              	SPI_Init:
 121              	.LVL14:
 122              	.LFB30:
 148:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 149:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 150:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 151:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         parameters in the SPI_InitStruct.
 152:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 153:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure that
 154:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         contains the configuration information for the specified SPI peripheral.
 155:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 156:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 157:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_Init(SPI_TypeDef* SPIx, SPI_InitTypeDef* SPI_InitStruct)
ARM GAS  /tmp/ccPKNLrh.s 			page 6


 158:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 123              		.loc 1 158 1 is_stmt 1 view -0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              		.loc 1 158 1 is_stmt 0 view .LVU21
 128 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 129              	.LCFI1:
 130              		.cfi_def_cfa_offset 24
 131              		.cfi_offset 4, -24
 132              		.cfi_offset 5, -20
 133              		.cfi_offset 6, -16
 134              		.cfi_offset 7, -12
 135              		.cfi_offset 8, -8
 136              		.cfi_offset 14, -4
 159:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0;
 137              		.loc 1 159 3 is_stmt 1 view .LVU22
 138              	.LVL15:
 160:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 161:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* check the parameters */
 162:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));   
 139              		.loc 1 162 3 view .LVU23
 163:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 164:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the SPI parameters */
 165:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DIRECTION_MODE(SPI_InitStruct->SPI_Direction));
 140              		.loc 1 165 3 view .LVU24
 166:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_MODE(SPI_InitStruct->SPI_Mode));
 141              		.loc 1 166 3 view .LVU25
 167:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_InitStruct->SPI_DataSize));
 142              		.loc 1 167 3 view .LVU26
 168:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CPOL(SPI_InitStruct->SPI_CPOL));
 143              		.loc 1 168 3 view .LVU27
 169:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CPHA(SPI_InitStruct->SPI_CPHA));
 144              		.loc 1 169 3 view .LVU28
 170:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_NSS(SPI_InitStruct->SPI_NSS));
 145              		.loc 1 170 3 view .LVU29
 171:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(SPI_InitStruct->SPI_BaudRatePrescaler));
 146              		.loc 1 171 3 view .LVU30
 172:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_FIRST_BIT(SPI_InitStruct->SPI_FirstBit));
 147              		.loc 1 172 3 view .LVU31
 173:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CRC_POLYNOMIAL(SPI_InitStruct->SPI_CRCPolynomial));
 148              		.loc 1 173 3 view .LVU32
 174:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 175:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*---------------------------- SPIx CR1 Configuration ------------------------*/
 176:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPIx CR1 value */
 177:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg = SPIx->CR1;
 149              		.loc 1 177 3 view .LVU33
 150              		.loc 1 177 10 is_stmt 0 view .LVU34
 151 0004 0288     		ldrh	r2, [r0]
 152              	.LVL16:
 178:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear BIDIMode, BIDIOE, RxONLY, SSM, SSI, LSBFirst, BR, MSTR, CPOL and CPHA bits */
 179:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg &= CR1_CLEAR_Mask;
 153              		.loc 1 179 3 is_stmt 1 view .LVU35
 154              		.loc 1 179 10 is_stmt 0 view .LVU36
 155 0006 02F44152 		and	r2, r2, #12352
 156              	.LVL17:
 180:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
ARM GAS  /tmp/ccPKNLrh.s 			page 7


 181:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****      master/salve mode, CPOL and CPHA */
 182:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set BIDImode, BIDIOE and RxONLY bits according to SPI_Direction value */
 183:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set SSM, SSI and MSTR bits according to SPI_Mode and SPI_NSS values */
 184:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set LSBFirst bit according to SPI_FirstBit value */
 185:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set BR bits according to SPI_BaudRatePrescaler value */
 186:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set CPOL bit according to SPI_CPOL value */
 187:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set CPHA bit according to SPI_CPHA value */
 188:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg |= (uint16_t)((uint32_t)SPI_InitStruct->SPI_Direction | SPI_InitStruct->SPI_Mode |
 157              		.loc 1 188 3 is_stmt 1 view .LVU37
 158              		.loc 1 188 48 is_stmt 0 view .LVU38
 159 000a 0F88     		ldrh	r7, [r1]
 160              		.loc 1 188 80 view .LVU39
 161 000c B1F80280 		ldrh	r8, [r1, #2]
 189:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 162              		.loc 1 189 33 view .LVU40
 163 0010 8E88     		ldrh	r6, [r1, #4]
 164              		.loc 1 189 64 view .LVU41
 165 0012 CD88     		ldrh	r5, [r1, #6]
 190:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_CPHA | SPI_InitStruct->SPI_NSS |  
 166              		.loc 1 190 33 view .LVU42
 167 0014 0C89     		ldrh	r4, [r1, #8]
 168              		.loc 1 190 60 view .LVU43
 169 0016 B1F80AE0 		ldrh	lr, [r1, #10]
 191:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_BaudRatePrescaler | SPI_InitStruct->SPI_FirstBit);
 170              		.loc 1 191 33 view .LVU44
 171 001a B1F80CC0 		ldrh	ip, [r1, #12]
 172              		.loc 1 191 73 view .LVU45
 173 001e CB89     		ldrh	r3, [r1, #14]
 188:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 174              		.loc 1 188 13 view .LVU46
 175 0020 47EA0807 		orr	r7, r7, r8
 176 0024 3E43     		orrs	r6, r6, r7
 177 0026 3543     		orrs	r5, r5, r6
 178 0028 2C43     		orrs	r4, r4, r5
 179 002a 4EEA040E 		orr	lr, lr, r4
 180 002e 4CEA0E0C 		orr	ip, ip, lr
 181 0032 43EA0C03 		orr	r3, r3, ip
 188:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 182              		.loc 1 188 10 view .LVU47
 183 0036 1343     		orrs	r3, r3, r2
 184              	.LVL18:
 192:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx CR1 */
 193:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 = tmpreg;
 185              		.loc 1 193 3 is_stmt 1 view .LVU48
 186              		.loc 1 193 13 is_stmt 0 view .LVU49
 187 0038 0380     		strh	r3, [r0]	@ movhi
 194:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 195:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Activate the SPI mode (Reset I2SMOD bit in I2SCFGR register) */
 196:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR &= SPI_Mode_Select;		
 188              		.loc 1 196 3 is_stmt 1 view .LVU50
 189              		.loc 1 196 7 is_stmt 0 view .LVU51
 190 003a 838B     		ldrh	r3, [r0, #28]
 191              	.LVL19:
 192              		.loc 1 196 7 view .LVU52
 193 003c 9BB2     		uxth	r3, r3
 194              		.loc 1 196 17 view .LVU53
 195 003e 23F40063 		bic	r3, r3, #2048
ARM GAS  /tmp/ccPKNLrh.s 			page 8


 196 0042 9BB2     		uxth	r3, r3
 197 0044 8383     		strh	r3, [r0, #28]	@ movhi
 198              	.LVL20:
 197:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 198:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*---------------------------- SPIx CRCPOLY Configuration --------------------*/
 199:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx CRCPOLY */
 200:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CRCPR = SPI_InitStruct->SPI_CRCPolynomial;
 199              		.loc 1 200 3 is_stmt 1 view .LVU54
 200              		.loc 1 200 31 is_stmt 0 view .LVU55
 201 0046 0B8A     		ldrh	r3, [r1, #16]
 202              		.loc 1 200 15 view .LVU56
 203 0048 0382     		strh	r3, [r0, #16]	@ movhi
 201:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 204              		.loc 1 201 1 view .LVU57
 205 004a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 206              		.cfi_endproc
 207              	.LFE30:
 209              		.section	.text.I2S_Init,"ax",%progbits
 210              		.align	1
 211              		.global	I2S_Init
 212              		.syntax unified
 213              		.thumb
 214              		.thumb_func
 216              	I2S_Init:
 217              	.LVL21:
 218              	.LFB31:
 202:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 203:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 204:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 205:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         parameters in the I2S_InitStruct.
 206:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be  2 or 3 to select the SPI peripheral
 207:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         (configured in I2S mode).
 208:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 209:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         contains the configuration information for the specified SPI peripheral
 210:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         configured in I2S mode.
 211:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
 212:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  The function calculates the optimal prescaler needed to obtain the most 
 213:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  accurate audio frequency (depending on the I2S clock source, the PLL values 
 214:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  and the product configuration). But in case the prescaler value is greater 
 215:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  than 511, the default value (0x02) will be configured instead.  *   
 216:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 217:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 218:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_Init(SPI_TypeDef* SPIx, I2S_InitTypeDef* I2S_InitStruct)
 219:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 219              		.loc 1 219 1 is_stmt 1 view -0
 220              		.cfi_startproc
 221              		@ args = 0, pretend = 0, frame = 24
 222              		@ frame_needed = 0, uses_anonymous_args = 0
 223              		.loc 1 219 1 is_stmt 0 view .LVU59
 224 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 225              	.LCFI2:
 226              		.cfi_def_cfa_offset 20
 227              		.cfi_offset 4, -20
 228              		.cfi_offset 5, -16
 229              		.cfi_offset 6, -12
 230              		.cfi_offset 7, -8
 231              		.cfi_offset 14, -4
ARM GAS  /tmp/ccPKNLrh.s 			page 9


 232 0002 87B0     		sub	sp, sp, #28
 233              	.LCFI3:
 234              		.cfi_def_cfa_offset 48
 235 0004 0546     		mov	r5, r0
 236 0006 0C46     		mov	r4, r1
 220:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 237              		.loc 1 220 3 is_stmt 1 view .LVU60
 238              	.LVL22:
 221:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint32_t tmp = 0;
 239              		.loc 1 221 3 view .LVU61
 222:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   RCC_ClocksTypeDef RCC_Clocks;
 240              		.loc 1 222 3 view .LVU62
 223:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint32_t sourceclock = 0;
 241              		.loc 1 223 3 view .LVU63
 224:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 225:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the I2S parameters */
 226:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 242              		.loc 1 226 3 view .LVU64
 227:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 243              		.loc 1 227 3 view .LVU65
 228:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 244              		.loc 1 228 3 view .LVU66
 229:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 245              		.loc 1 229 3 view .LVU67
 230:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_MCLK_OUTPUT(I2S_InitStruct->I2S_MCLKOutput));
 246              		.loc 1 230 3 view .LVU68
 231:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_AUDIO_FREQ(I2S_InitStruct->I2S_AudioFreq));
 247              		.loc 1 231 3 view .LVU69
 232:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 248              		.loc 1 232 3 view .LVU70
 233:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 234:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
 235:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 236:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR &= I2SCFGR_CLEAR_Mask; 
 249              		.loc 1 236 3 view .LVU71
 250              		.loc 1 236 7 is_stmt 0 view .LVU72
 251 0008 838B     		ldrh	r3, [r0, #28]
 252 000a 9BB2     		uxth	r3, r3
 253              		.loc 1 236 17 view .LVU73
 254 000c 23F47B63 		bic	r3, r3, #4016
 255 0010 23F00F03 		bic	r3, r3, #15
 256 0014 9BB2     		uxth	r3, r3
 257 0016 8383     		strh	r3, [r0, #28]	@ movhi
 237:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SPR = 0x0002;
 258              		.loc 1 237 3 is_stmt 1 view .LVU74
 259              		.loc 1 237 15 is_stmt 0 view .LVU75
 260 0018 0223     		movs	r3, #2
 261 001a 0384     		strh	r3, [r0, #32]	@ movhi
 238:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 239:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the I2SCFGR register value */
 240:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg = SPIx->I2SCFGR;
 262              		.loc 1 240 3 is_stmt 1 view .LVU76
 263              		.loc 1 240 10 is_stmt 0 view .LVU77
 264 001c 868B     		ldrh	r6, [r0, #28]
 265 001e B6B2     		uxth	r6, r6
 266              	.LVL23:
 241:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
ARM GAS  /tmp/ccPKNLrh.s 			page 10


 242:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* If the default value has to be written, reinitialize i2sdiv and i2sodd*/
 243:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if(I2S_InitStruct->I2S_AudioFreq == I2S_AudioFreq_Default)
 267              		.loc 1 243 3 is_stmt 1 view .LVU78
 268              		.loc 1 243 20 is_stmt 0 view .LVU79
 269 0020 8B68     		ldr	r3, [r1, #8]
 270              		.loc 1 243 5 view .LVU80
 271 0022 022B     		cmp	r3, #2
 272 0024 43D0     		beq	.L19
 244:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 245:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t)0;
 246:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = (uint16_t)2;   
 247:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 248:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* If the requested audio frequency is not the default, compute the prescaler */
 249:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 250:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 251:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the frame length (For the Prescaler computing) */
 252:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(I2S_InitStruct->I2S_DataFormat == I2S_DataFormat_16b)
 273              		.loc 1 252 5 is_stmt 1 view .LVU81
 274              		.loc 1 252 22 is_stmt 0 view .LVU82
 275 0026 8B88     		ldrh	r3, [r1, #4]
 276              		.loc 1 252 7 view .LVU83
 277 0028 002B     		cmp	r3, #0
 278 002a 34D1     		bne	.L20
 253:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 254:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Packet length is 16 bits */
 255:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       packetlength = 1;
 279              		.loc 1 255 20 view .LVU84
 280 002c 0127     		movs	r7, #1
 281              	.L15:
 282              	.LVL24:
 256:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 257:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 258:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 259:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Packet length is 32 bits */
 260:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       packetlength = 2;
 261:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 262:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 263:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the I2S clock source mask depending on the peripheral number */
 264:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(((uint32_t)SPIx) == SPI2_BASE)
 283              		.loc 1 264 5 is_stmt 1 view .LVU85
 265:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 266:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* The mask is relative to I2S2 */
 267:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = I2S2_CLOCK_SRC;
 268:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 269:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else 
 270:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 271:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* The mask is relative to I2S3 */      
 272:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = I2S3_CLOCK_SRC;
 284              		.loc 1 272 7 view .LVU86
 273:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 274:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 275:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the I2S clock source configuration depending on the Device:
 276:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****        Only Connectivity line devices have the PLL3 VCO clock */
 277:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #ifdef STM32F10X_CL
 278:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if((RCC->CFGR2 & tmp) != 0)
 279:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 280:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the configuration bits of RCC PLL3 multiplier */
ARM GAS  /tmp/ccPKNLrh.s 			page 11


 281:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint32_t)((RCC->CFGR2 & I2S_MUL_MASK) >> 12);
 282:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 283:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the value of the PLL3 multiplier */      
 284:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       if((tmp > 5) && (tmp < 15))
 285:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       {
 286:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         /* Multiplier is between 8 and 14 (value 15 is forbidden) */
 287:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         tmp += 2;
 288:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       }
 289:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       else
 290:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       {
 291:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         if (tmp == 15)
 292:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         {
 293:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****           /* Multiplier is 20 */
 294:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****           tmp = 20;
 295:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         }
 296:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       }      
 297:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the PREDIV2 value */
 298:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = (uint32_t)(((RCC->CFGR2 & I2S_DIV_MASK) >> 4) + 1);
 299:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 300:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Calculate the Source Clock frequency based on PLL3 and PREDIV2 values */
 301:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = (uint32_t) ((HSE_Value / sourceclock) * tmp * 2); 
 302:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 303:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 304:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 305:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* I2S Clock source is System clock: Get System Clock frequency */
 306:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_GetClocksFreq(&RCC_Clocks);      
 307:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 308:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the source clock value: based on System Clock value */
 309:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = RCC_Clocks.SYSCLK_Frequency;
 310:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }        
 311:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #else /* STM32F10X_HD */
 312:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* I2S Clock source is System clock: Get System Clock frequency */
 313:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_GetClocksFreq(&RCC_Clocks);      
 285              		.loc 1 313 5 view .LVU87
 286 002e 01A8     		add	r0, sp, #4
 287              	.LVL25:
 288              		.loc 1 313 5 is_stmt 0 view .LVU88
 289 0030 FFF7FEFF 		bl	RCC_GetClocksFreq
 290              	.LVL26:
 314:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 315:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the source clock value: based on System Clock value */
 316:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     sourceclock = RCC_Clocks.SYSCLK_Frequency;    
 291              		.loc 1 316 5 is_stmt 1 view .LVU89
 292              		.loc 1 316 17 is_stmt 0 view .LVU90
 293 0034 019B     		ldr	r3, [sp, #4]
 294              	.LVL27:
 317:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #endif /* STM32F10X_CL */    
 318:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 319:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Compute the Real divider depending on the MCLK output state with a floating point */
 320:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(I2S_InitStruct->I2S_MCLKOutput == I2S_MCLKOutput_Enable)
 295              		.loc 1 320 5 is_stmt 1 view .LVU91
 296              		.loc 1 320 22 is_stmt 0 view .LVU92
 297 0036 E288     		ldrh	r2, [r4, #6]
 298              		.loc 1 320 7 view .LVU93
 299 0038 B2F5007F 		cmp	r2, #512
 300 003c 2DD0     		beq	.L23
 321:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
ARM GAS  /tmp/ccPKNLrh.s 			page 12


 322:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* MCLK output is enabled */
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint16_t)(((((sourceclock / 256) * 10) / I2S_InitStruct->I2S_AudioFreq)) + 5);
 324:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 325:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 326:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 327:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* MCLK output is disabled */
 328:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint16_t)(((((sourceclock / (32 * packetlength)) *10 ) / I2S_InitStruct->I2S_AudioFreq
 301              		.loc 1 328 7 is_stmt 1 view .LVU94
 302              		.loc 1 328 46 is_stmt 0 view .LVU95
 303 003e 7F01     		lsls	r7, r7, #5
 304              	.LVL28:
 305              		.loc 1 328 40 view .LVU96
 306 0040 B3FBF7F3 		udiv	r3, r3, r7
 307              	.LVL29:
 308              		.loc 1 328 63 view .LVU97
 309 0044 03EB8303 		add	r3, r3, r3, lsl #2
 310 0048 5B00     		lsls	r3, r3, #1
 311              		.loc 1 328 85 view .LVU98
 312 004a A268     		ldr	r2, [r4, #8]
 313              		.loc 1 328 69 view .LVU99
 314 004c B3FBF2F3 		udiv	r3, r3, r2
 315              		.loc 1 328 13 view .LVU100
 316 0050 0533     		adds	r3, r3, #5
 317 0052 9BB2     		uxth	r3, r3
 318              	.LVL30:
 319              	.L17:
 329:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 330:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     
 331:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Remove the floating point */
 332:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     tmp = tmp / 10;  
 320              		.loc 1 332 5 is_stmt 1 view .LVU101
 321              		.loc 1 332 9 is_stmt 0 view .LVU102
 322 0054 174A     		ldr	r2, .L24
 323 0056 A2FB0323 		umull	r2, r3, r2, r3
 324              	.LVL31:
 333:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 334:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the parity of the divider */
 335:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t)(tmp & (uint16_t)0x0001);
 325              		.loc 1 335 5 is_stmt 1 view .LVU103
 326              		.loc 1 335 12 is_stmt 0 view .LVU104
 327 005a C3F3C001 		ubfx	r1, r3, #3, #1
 328              	.LVL32:
 336:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****    
 337:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Compute the i2sdiv prescaler */
 338:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = (uint16_t)((tmp - i2sodd) / 2);
 329              		.loc 1 338 5 is_stmt 1 view .LVU105
 330              		.loc 1 338 30 is_stmt 0 view .LVU106
 331 005e C1EBD303 		rsb	r3, r1, r3, lsr #3
 332              	.LVL33:
 333              		.loc 1 338 12 view .LVU107
 334 0062 C3F34F03 		ubfx	r3, r3, #1, #16
 335              	.LVL34:
 339:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****    
 340:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Mask for the Odd bit (SPI_I2SPR[8]) register */
 341:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t) (i2sodd << 8);
 336              		.loc 1 341 5 is_stmt 1 view .LVU108
 337              		.loc 1 341 12 is_stmt 0 view .LVU109
ARM GAS  /tmp/ccPKNLrh.s 			page 13


 338 0066 0902     		lsls	r1, r1, #8
 339              	.LVL35:
 340              	.L14:
 342:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 343:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 344:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Test if the divider is 1 or 0 or greater than 0xFF */
 345:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if ((i2sdiv < 2) || (i2sdiv > 0xFF))
 341              		.loc 1 345 3 is_stmt 1 view .LVU110
 342              		.loc 1 345 20 is_stmt 0 view .LVU111
 343 0068 9A1E     		subs	r2, r3, #2
 344 006a 92B2     		uxth	r2, r2
 345              		.loc 1 345 6 view .LVU112
 346 006c FD2A     		cmp	r2, #253
 347 006e 01D9     		bls	.L18
 346:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 347:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the default values */
 348:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = 2;
 349:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = 0;
 348              		.loc 1 349 12 view .LVU113
 349 0070 0021     		movs	r1, #0
 350              	.LVL36:
 348:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = 0;
 351              		.loc 1 348 12 view .LVU114
 352 0072 0223     		movs	r3, #2
 353              	.LVL37:
 354              	.L18:
 350:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 351:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 352:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx I2SPR register the computed value */
 353:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SPR = (uint16_t)(i2sdiv | (uint16_t)(i2sodd | (uint16_t)I2S_InitStruct->I2S_MCLKOutput));
 355              		.loc 1 353 3 is_stmt 1 view .LVU115
 356              		.loc 1 353 81 is_stmt 0 view .LVU116
 357 0074 E288     		ldrh	r2, [r4, #6]
 358              		.loc 1 353 37 view .LVU117
 359 0076 0A43     		orrs	r2, r2, r1
 360              		.loc 1 353 17 view .LVU118
 361 0078 1343     		orrs	r3, r3, r2
 362              	.LVL38:
 363              		.loc 1 353 15 view .LVU119
 364 007a 2B84     		strh	r3, [r5, #32]	@ movhi
 354:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****  
 355:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg |= (uint16_t)(I2S_Mode_Select | (uint16_t)(I2S_InitStruct->I2S_Mode | \
 365              		.loc 1 356 3 is_stmt 1 view .LVU120
 366              		.loc 1 356 67 is_stmt 0 view .LVU121
 367 007c 2388     		ldrh	r3, [r4]
 357:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 368              		.loc 1 357 44 view .LVU122
 369 007e 6288     		ldrh	r2, [r4, #2]
 370              		.loc 1 357 86 view .LVU123
 371 0080 A188     		ldrh	r1, [r4, #4]
 372              	.LVL39:
 358:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 373              		.loc 1 358 43 view .LVU124
 374 0082 A089     		ldrh	r0, [r4, #12]
 357:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 375              		.loc 1 357 61 view .LVU125
ARM GAS  /tmp/ccPKNLrh.s 			page 14


 376 0084 0143     		orrs	r1, r1, r0
 357:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 377              		.loc 1 357 19 view .LVU126
 378 0086 0A43     		orrs	r2, r2, r1
 356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 379              		.loc 1 356 42 view .LVU127
 380 0088 1343     		orrs	r3, r3, r2
 356:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 381              		.loc 1 356 10 view .LVU128
 382 008a 3343     		orrs	r3, r3, r6
 383 008c 43F40063 		orr	r3, r3, #2048
 384              	.LVL40:
 359:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****  
 360:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx I2SCFGR */  
 361:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR = tmpreg;   
 385              		.loc 1 361 3 is_stmt 1 view .LVU129
 386              		.loc 1 361 17 is_stmt 0 view .LVU130
 387 0090 AB83     		strh	r3, [r5, #28]	@ movhi
 362:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 388              		.loc 1 362 1 view .LVU131
 389 0092 07B0     		add	sp, sp, #28
 390              	.LCFI4:
 391              		.cfi_remember_state
 392              		.cfi_def_cfa_offset 20
 393              		@ sp needed
 394 0094 F0BD     		pop	{r4, r5, r6, r7, pc}
 395              	.LVL41:
 396              	.L20:
 397              	.LCFI5:
 398              		.cfi_restore_state
 260:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 399              		.loc 1 260 20 view .LVU132
 400 0096 0227     		movs	r7, #2
 401 0098 C9E7     		b	.L15
 402              	.LVL42:
 403              	.L23:
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 404              		.loc 1 323 7 is_stmt 1 view .LVU133
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 405              		.loc 1 323 40 is_stmt 0 view .LVU134
 406 009a 1B0A     		lsrs	r3, r3, #8
 407              	.LVL43:
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 408              		.loc 1 323 47 view .LVU135
 409 009c 03EB8303 		add	r3, r3, r3, lsl #2
 410 00a0 5B00     		lsls	r3, r3, #1
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 411              		.loc 1 323 69 view .LVU136
 412 00a2 A268     		ldr	r2, [r4, #8]
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 413              		.loc 1 323 53 view .LVU137
 414 00a4 B3FBF2F3 		udiv	r3, r3, r2
 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 415              		.loc 1 323 13 view .LVU138
 416 00a8 0533     		adds	r3, r3, #5
 417 00aa 9BB2     		uxth	r3, r3
 418              	.LVL44:
ARM GAS  /tmp/ccPKNLrh.s 			page 15


 323:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 419              		.loc 1 323 13 view .LVU139
 420 00ac D2E7     		b	.L17
 421              	.LVL45:
 422              	.L19:
 245:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = (uint16_t)2;   
 423              		.loc 1 245 12 view .LVU140
 424 00ae 0021     		movs	r1, #0
 425              	.LVL46:
 246:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 426              		.loc 1 246 12 view .LVU141
 427 00b0 0223     		movs	r3, #2
 428 00b2 D9E7     		b	.L14
 429              	.L25:
 430              		.align	2
 431              	.L24:
 432 00b4 CDCCCCCC 		.word	-858993459
 433              		.cfi_endproc
 434              	.LFE31:
 436              		.section	.text.SPI_StructInit,"ax",%progbits
 437              		.align	1
 438              		.global	SPI_StructInit
 439              		.syntax unified
 440              		.thumb
 441              		.thumb_func
 443              	SPI_StructInit:
 444              	.LVL47:
 445              	.LFB32:
 363:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 364:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 365:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Fills each SPI_InitStruct member with its default value.
 366:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_InitStruct : pointer to a SPI_InitTypeDef structure which will be initialized.
 367:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 368:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 369:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_StructInit(SPI_InitTypeDef* SPI_InitStruct)
 370:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 446              		.loc 1 370 1 is_stmt 1 view -0
 447              		.cfi_startproc
 448              		@ args = 0, pretend = 0, frame = 0
 449              		@ frame_needed = 0, uses_anonymous_args = 0
 450              		@ link register save eliminated.
 371:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*--------------- Reset SPI init structure parameters values -----------------*/
 372:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_Direction member */
 373:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_Direction = SPI_Direction_2Lines_FullDuplex;
 451              		.loc 1 373 3 view .LVU143
 452              		.loc 1 373 33 is_stmt 0 view .LVU144
 453 0000 0023     		movs	r3, #0
 454 0002 0380     		strh	r3, [r0]	@ movhi
 374:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_Mode member */
 375:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_Mode = SPI_Mode_Slave;
 455              		.loc 1 375 3 is_stmt 1 view .LVU145
 456              		.loc 1 375 28 is_stmt 0 view .LVU146
 457 0004 4380     		strh	r3, [r0, #2]	@ movhi
 376:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_DataSize member */
 377:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_DataSize = SPI_DataSize_8b;
 458              		.loc 1 377 3 is_stmt 1 view .LVU147
 459              		.loc 1 377 32 is_stmt 0 view .LVU148
ARM GAS  /tmp/ccPKNLrh.s 			page 16


 460 0006 8380     		strh	r3, [r0, #4]	@ movhi
 378:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CPOL member */
 379:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CPOL = SPI_CPOL_Low;
 461              		.loc 1 379 3 is_stmt 1 view .LVU149
 462              		.loc 1 379 28 is_stmt 0 view .LVU150
 463 0008 C380     		strh	r3, [r0, #6]	@ movhi
 380:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CPHA member */
 381:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CPHA = SPI_CPHA_1Edge;
 464              		.loc 1 381 3 is_stmt 1 view .LVU151
 465              		.loc 1 381 28 is_stmt 0 view .LVU152
 466 000a 0381     		strh	r3, [r0, #8]	@ movhi
 382:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_NSS member */
 383:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_NSS = SPI_NSS_Hard;
 467              		.loc 1 383 3 is_stmt 1 view .LVU153
 468              		.loc 1 383 27 is_stmt 0 view .LVU154
 469 000c 4381     		strh	r3, [r0, #10]	@ movhi
 384:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_BaudRatePrescaler member */
 385:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_2;
 470              		.loc 1 385 3 is_stmt 1 view .LVU155
 471              		.loc 1 385 41 is_stmt 0 view .LVU156
 472 000e 8381     		strh	r3, [r0, #12]	@ movhi
 386:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_FirstBit member */
 387:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_FirstBit = SPI_FirstBit_MSB;
 473              		.loc 1 387 3 is_stmt 1 view .LVU157
 474              		.loc 1 387 32 is_stmt 0 view .LVU158
 475 0010 C381     		strh	r3, [r0, #14]	@ movhi
 388:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CRCPolynomial member */
 389:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CRCPolynomial = 7;
 476              		.loc 1 389 3 is_stmt 1 view .LVU159
 477              		.loc 1 389 37 is_stmt 0 view .LVU160
 478 0012 0723     		movs	r3, #7
 479 0014 0382     		strh	r3, [r0, #16]	@ movhi
 390:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 480              		.loc 1 390 1 view .LVU161
 481 0016 7047     		bx	lr
 482              		.cfi_endproc
 483              	.LFE32:
 485              		.section	.text.I2S_StructInit,"ax",%progbits
 486              		.align	1
 487              		.global	I2S_StructInit
 488              		.syntax unified
 489              		.thumb
 490              		.thumb_func
 492              	I2S_StructInit:
 493              	.LVL48:
 494              	.LFB33:
 391:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 392:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 393:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Fills each I2S_InitStruct member with its default value.
 394:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  I2S_InitStruct : pointer to a I2S_InitTypeDef structure which will be initialized.
 395:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 396:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 397:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_StructInit(I2S_InitTypeDef* I2S_InitStruct)
 398:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 495              		.loc 1 398 1 is_stmt 1 view -0
 496              		.cfi_startproc
 497              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccPKNLrh.s 			page 17


 498              		@ frame_needed = 0, uses_anonymous_args = 0
 499              		@ link register save eliminated.
 399:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*--------------- Reset I2S init structure parameters values -----------------*/
 400:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_Mode member */
 401:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_Mode = I2S_Mode_SlaveTx;
 500              		.loc 1 401 3 view .LVU163
 501              		.loc 1 401 28 is_stmt 0 view .LVU164
 502 0000 0023     		movs	r3, #0
 503 0002 0380     		strh	r3, [r0]	@ movhi
 402:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 403:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_Standard member */
 404:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_Standard = I2S_Standard_Phillips;
 504              		.loc 1 404 3 is_stmt 1 view .LVU165
 505              		.loc 1 404 32 is_stmt 0 view .LVU166
 506 0004 4380     		strh	r3, [r0, #2]	@ movhi
 405:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 406:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_DataFormat member */
 407:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_DataFormat = I2S_DataFormat_16b;
 507              		.loc 1 407 3 is_stmt 1 view .LVU167
 508              		.loc 1 407 34 is_stmt 0 view .LVU168
 509 0006 8380     		strh	r3, [r0, #4]	@ movhi
 408:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 409:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_MCLKOutput member */
 410:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_MCLKOutput = I2S_MCLKOutput_Disable;
 510              		.loc 1 410 3 is_stmt 1 view .LVU169
 511              		.loc 1 410 34 is_stmt 0 view .LVU170
 512 0008 C380     		strh	r3, [r0, #6]	@ movhi
 411:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 412:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_AudioFreq member */
 413:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_AudioFreq = I2S_AudioFreq_Default;
 513              		.loc 1 413 3 is_stmt 1 view .LVU171
 514              		.loc 1 413 33 is_stmt 0 view .LVU172
 515 000a 0222     		movs	r2, #2
 516 000c 8260     		str	r2, [r0, #8]
 414:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 415:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_CPOL member */
 416:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_CPOL = I2S_CPOL_Low;
 517              		.loc 1 416 3 is_stmt 1 view .LVU173
 518              		.loc 1 416 28 is_stmt 0 view .LVU174
 519 000e 8381     		strh	r3, [r0, #12]	@ movhi
 417:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 520              		.loc 1 417 1 view .LVU175
 521 0010 7047     		bx	lr
 522              		.cfi_endproc
 523              	.LFE33:
 525              		.section	.text.SPI_Cmd,"ax",%progbits
 526              		.align	1
 527              		.global	SPI_Cmd
 528              		.syntax unified
 529              		.thumb
 530              		.thumb_func
 532              	SPI_Cmd:
 533              	.LVL49:
 534              	.LFB34:
 418:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 419:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 420:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI peripheral.
ARM GAS  /tmp/ccPKNLrh.s 			page 18


 421:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 422:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 423:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 424:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 425:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 426:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 427:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 535              		.loc 1 427 1 is_stmt 1 view -0
 536              		.cfi_startproc
 537              		@ args = 0, pretend = 0, frame = 0
 538              		@ frame_needed = 0, uses_anonymous_args = 0
 539              		@ link register save eliminated.
 428:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 429:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 540              		.loc 1 429 3 view .LVU177
 430:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 541              		.loc 1 430 3 view .LVU178
 431:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 542              		.loc 1 431 3 view .LVU179
 543              		.loc 1 431 6 is_stmt 0 view .LVU180
 544 0000 29B1     		cbz	r1, .L29
 432:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 433:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI peripheral */
 434:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= CR1_SPE_Set;
 545              		.loc 1 434 5 is_stmt 1 view .LVU181
 546              		.loc 1 434 9 is_stmt 0 view .LVU182
 547 0002 0388     		ldrh	r3, [r0]
 548 0004 9BB2     		uxth	r3, r3
 549              		.loc 1 434 15 view .LVU183
 550 0006 43F04003 		orr	r3, r3, #64
 551 000a 0380     		strh	r3, [r0]	@ movhi
 552 000c 7047     		bx	lr
 553              	.L29:
 435:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 436:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 437:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 438:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI peripheral */
 439:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= CR1_SPE_Reset;
 554              		.loc 1 439 5 is_stmt 1 view .LVU184
 555              		.loc 1 439 9 is_stmt 0 view .LVU185
 556 000e 0388     		ldrh	r3, [r0]
 557 0010 9BB2     		uxth	r3, r3
 558              		.loc 1 439 15 view .LVU186
 559 0012 23F04003 		bic	r3, r3, #64
 560 0016 9BB2     		uxth	r3, r3
 561 0018 0380     		strh	r3, [r0]	@ movhi
 440:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 441:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 562              		.loc 1 441 1 view .LVU187
 563 001a 7047     		bx	lr
 564              		.cfi_endproc
 565              	.LFE34:
 567              		.section	.text.I2S_Cmd,"ax",%progbits
 568              		.align	1
 569              		.global	I2S_Cmd
 570              		.syntax unified
 571              		.thumb
ARM GAS  /tmp/ccPKNLrh.s 			page 19


 572              		.thumb_func
 574              	I2S_Cmd:
 575              	.LVL50:
 576              	.LFB35:
 442:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 443:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 444:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI peripheral (in I2S mode).
 445:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 2 or 3 to select the SPI peripheral.
 446:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 447:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 448:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 449:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 450:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 451:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 577              		.loc 1 451 1 is_stmt 1 view -0
 578              		.cfi_startproc
 579              		@ args = 0, pretend = 0, frame = 0
 580              		@ frame_needed = 0, uses_anonymous_args = 0
 581              		@ link register save eliminated.
 452:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 453:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 582              		.loc 1 453 3 view .LVU189
 454:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 583              		.loc 1 454 3 view .LVU190
 455:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 584              		.loc 1 455 3 view .LVU191
 585              		.loc 1 455 6 is_stmt 0 view .LVU192
 586 0000 29B1     		cbz	r1, .L32
 456:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 457:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI peripheral (in I2S mode) */
 458:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->I2SCFGR |= I2SCFGR_I2SE_Set;
 587              		.loc 1 458 5 is_stmt 1 view .LVU193
 588              		.loc 1 458 9 is_stmt 0 view .LVU194
 589 0002 838B     		ldrh	r3, [r0, #28]
 590 0004 9BB2     		uxth	r3, r3
 591              		.loc 1 458 19 view .LVU195
 592 0006 43F48063 		orr	r3, r3, #1024
 593 000a 8383     		strh	r3, [r0, #28]	@ movhi
 594 000c 7047     		bx	lr
 595              	.L32:
 459:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 460:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 461:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 462:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI peripheral (in I2S mode) */
 463:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->I2SCFGR &= I2SCFGR_I2SE_Reset;
 596              		.loc 1 463 5 is_stmt 1 view .LVU196
 597              		.loc 1 463 9 is_stmt 0 view .LVU197
 598 000e 838B     		ldrh	r3, [r0, #28]
 599 0010 9BB2     		uxth	r3, r3
 600              		.loc 1 463 19 view .LVU198
 601 0012 23F48063 		bic	r3, r3, #1024
 602 0016 9BB2     		uxth	r3, r3
 603 0018 8383     		strh	r3, [r0, #28]	@ movhi
 464:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 465:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 604              		.loc 1 465 1 view .LVU199
 605 001a 7047     		bx	lr
ARM GAS  /tmp/ccPKNLrh.s 			page 20


 606              		.cfi_endproc
 607              	.LFE35:
 609              		.section	.text.SPI_I2S_ITConfig,"ax",%progbits
 610              		.align	1
 611              		.global	SPI_I2S_ITConfig
 612              		.syntax unified
 613              		.thumb
 614              		.thumb_func
 616              	SPI_I2S_ITConfig:
 617              	.LVL51:
 618              	.LFB36:
 466:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 467:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 468:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI/I2S interrupts.
 469:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 470:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 471:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 472:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI/I2S interrupt source to be enabled or disabled. 
 473:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 474:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_TXE: Tx buffer empty interrupt mask
 475:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_RXNE: Rx buffer not empty interrupt mask
 476:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_ERR: Error interrupt mask
 477:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the specified SPI/I2S interrupt.
 478:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 479:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 480:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 481:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState)
 482:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 619              		.loc 1 482 1 is_stmt 1 view -0
 620              		.cfi_startproc
 621              		@ args = 0, pretend = 0, frame = 0
 622              		@ frame_needed = 0, uses_anonymous_args = 0
 623              		@ link register save eliminated.
 483:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0, itmask = 0 ;
 624              		.loc 1 483 3 view .LVU201
 484:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 485:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 625              		.loc 1 485 3 view .LVU202
 486:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 626              		.loc 1 486 3 view .LVU203
 487:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CONFIG_IT(SPI_I2S_IT));
 627              		.loc 1 487 3 view .LVU204
 488:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 489:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT index */
 490:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = SPI_I2S_IT >> 4;
 628              		.loc 1 490 3 view .LVU205
 629              		.loc 1 490 9 is_stmt 0 view .LVU206
 630 0000 0909     		lsrs	r1, r1, #4
 631              	.LVL52:
 491:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 492:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set the IT mask */
 493:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = (uint16_t)1 << (uint16_t)itpos;
 632              		.loc 1 493 3 is_stmt 1 view .LVU207
 633              		.loc 1 493 24 is_stmt 0 view .LVU208
 634 0002 0123     		movs	r3, #1
 635 0004 8B40     		lsls	r3, r3, r1
 636              		.loc 1 493 10 view .LVU209
ARM GAS  /tmp/ccPKNLrh.s 			page 21


 637 0006 9BB2     		uxth	r3, r3
 638              	.LVL53:
 494:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 495:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 639              		.loc 1 495 3 is_stmt 1 view .LVU210
 640              		.loc 1 495 6 is_stmt 0 view .LVU211
 641 0008 22B1     		cbz	r2, .L35
 496:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 497:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI/I2S interrupt */
 498:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= itmask;
 642              		.loc 1 498 5 is_stmt 1 view .LVU212
 643              		.loc 1 498 9 is_stmt 0 view .LVU213
 644 000a 8288     		ldrh	r2, [r0, #4]
 645              	.LVL54:
 646              		.loc 1 498 9 view .LVU214
 647 000c 92B2     		uxth	r2, r2
 648              		.loc 1 498 15 view .LVU215
 649 000e 1343     		orrs	r3, r3, r2
 650              	.LVL55:
 651              		.loc 1 498 15 view .LVU216
 652 0010 8380     		strh	r3, [r0, #4]	@ movhi
 653 0012 7047     		bx	lr
 654              	.LVL56:
 655              	.L35:
 499:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 500:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 501:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 502:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI/I2S interrupt */
 503:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= (uint16_t)~itmask;
 656              		.loc 1 503 5 is_stmt 1 view .LVU217
 657              		.loc 1 503 9 is_stmt 0 view .LVU218
 658 0014 8288     		ldrh	r2, [r0, #4]
 659              	.LVL57:
 660              		.loc 1 503 18 view .LVU219
 661 0016 DB43     		mvns	r3, r3
 662              	.LVL58:
 663              		.loc 1 503 18 view .LVU220
 664 0018 9BB2     		uxth	r3, r3
 665              	.LVL59:
 666              		.loc 1 503 15 view .LVU221
 667 001a 1340     		ands	r3, r3, r2
 668 001c 8380     		strh	r3, [r0, #4]	@ movhi
 504:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 505:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 669              		.loc 1 505 1 view .LVU222
 670 001e 7047     		bx	lr
 671              		.cfi_endproc
 672              	.LFE36:
 674              		.section	.text.SPI_I2S_DMACmd,"ax",%progbits
 675              		.align	1
 676              		.global	SPI_I2S_DMACmd
 677              		.syntax unified
 678              		.thumb
 679              		.thumb_func
 681              	SPI_I2S_DMACmd:
 682              	.LVL60:
 683              	.LFB37:
ARM GAS  /tmp/ccPKNLrh.s 			page 22


 506:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 507:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 508:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
 509:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 510:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 511:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 512:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_DMAReq: specifies the SPI/I2S DMA transfer request to be enabled or disabled. 
 513:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be any combination of the following values:
 514:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_DMAReq_Tx: Tx buffer DMA transfer request
 515:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_DMAReq_Rx: Rx buffer DMA transfer request
 516:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the selected SPI/I2S DMA transfer request.
 517:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 518:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 519:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 520:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState)
 521:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 684              		.loc 1 521 1 is_stmt 1 view -0
 685              		.cfi_startproc
 686              		@ args = 0, pretend = 0, frame = 0
 687              		@ frame_needed = 0, uses_anonymous_args = 0
 688              		@ link register save eliminated.
 522:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 523:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 689              		.loc 1 523 3 view .LVU224
 524:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 690              		.loc 1 524 3 view .LVU225
 525:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_DMAREQ(SPI_I2S_DMAReq));
 691              		.loc 1 525 3 view .LVU226
 526:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 692              		.loc 1 526 3 view .LVU227
 693              		.loc 1 526 6 is_stmt 0 view .LVU228
 694 0000 22B1     		cbz	r2, .L38
 527:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 528:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI/I2S DMA requests */
 529:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= SPI_I2S_DMAReq;
 695              		.loc 1 529 5 is_stmt 1 view .LVU229
 696              		.loc 1 529 9 is_stmt 0 view .LVU230
 697 0002 8388     		ldrh	r3, [r0, #4]
 698 0004 9BB2     		uxth	r3, r3
 699              		.loc 1 529 15 view .LVU231
 700 0006 0B43     		orrs	r3, r3, r1
 701 0008 8380     		strh	r3, [r0, #4]	@ movhi
 702 000a 7047     		bx	lr
 703              	.L38:
 530:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 531:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 532:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 533:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI/I2S DMA requests */
 534:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_I2S_DMAReq;
 704              		.loc 1 534 5 is_stmt 1 view .LVU232
 705              		.loc 1 534 9 is_stmt 0 view .LVU233
 706 000c 8388     		ldrh	r3, [r0, #4]
 707              		.loc 1 534 18 view .LVU234
 708 000e C943     		mvns	r1, r1
 709              	.LVL61:
 710              		.loc 1 534 18 view .LVU235
 711 0010 89B2     		uxth	r1, r1
ARM GAS  /tmp/ccPKNLrh.s 			page 23


 712              		.loc 1 534 15 view .LVU236
 713 0012 1940     		ands	r1, r1, r3
 714 0014 8180     		strh	r1, [r0, #4]	@ movhi
 535:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 536:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 715              		.loc 1 536 1 view .LVU237
 716 0016 7047     		bx	lr
 717              		.cfi_endproc
 718              	.LFE37:
 720              		.section	.text.SPI_I2S_SendData,"ax",%progbits
 721              		.align	1
 722              		.global	SPI_I2S_SendData
 723              		.syntax unified
 724              		.thumb
 725              		.thumb_func
 727              	SPI_I2S_SendData:
 728              	.LVL62:
 729              	.LFB38:
 537:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 538:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 539:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Transmits a Data through the SPIx/I2Sx peripheral.
 540:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 541:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 542:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 543:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  Data : Data to be transmitted.
 544:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 545:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 546:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_SendData(SPI_TypeDef* SPIx, uint16_t Data)
 547:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 730              		.loc 1 547 1 is_stmt 1 view -0
 731              		.cfi_startproc
 732              		@ args = 0, pretend = 0, frame = 0
 733              		@ frame_needed = 0, uses_anonymous_args = 0
 734              		@ link register save eliminated.
 548:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 549:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 735              		.loc 1 549 3 view .LVU239
 550:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 551:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write in the DR register the data to be sent */
 552:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->DR = Data;
 736              		.loc 1 552 3 view .LVU240
 737              		.loc 1 552 12 is_stmt 0 view .LVU241
 738 0000 8181     		strh	r1, [r0, #12]	@ movhi
 553:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 739              		.loc 1 553 1 view .LVU242
 740 0002 7047     		bx	lr
 741              		.cfi_endproc
 742              	.LFE38:
 744              		.section	.text.SPI_I2S_ReceiveData,"ax",%progbits
 745              		.align	1
 746              		.global	SPI_I2S_ReceiveData
 747              		.syntax unified
 748              		.thumb
 749              		.thumb_func
 751              	SPI_I2S_ReceiveData:
 752              	.LVL63:
 753              	.LFB39:
ARM GAS  /tmp/ccPKNLrh.s 			page 24


 554:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 555:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 556:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the most recent received data by the SPIx/I2Sx peripheral. 
 557:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 558:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 559:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 560:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The value of the received data.
 561:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 562:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_I2S_ReceiveData(SPI_TypeDef* SPIx)
 563:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 754              		.loc 1 563 1 is_stmt 1 view -0
 755              		.cfi_startproc
 756              		@ args = 0, pretend = 0, frame = 0
 757              		@ frame_needed = 0, uses_anonymous_args = 0
 758              		@ link register save eliminated.
 564:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 565:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 759              		.loc 1 565 3 view .LVU244
 566:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 567:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the data in the DR register */
 568:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return SPIx->DR;
 760              		.loc 1 568 3 view .LVU245
 761              		.loc 1 568 14 is_stmt 0 view .LVU246
 762 0000 8089     		ldrh	r0, [r0, #12]
 763              	.LVL64:
 569:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 764              		.loc 1 569 1 view .LVU247
 765 0002 80B2     		uxth	r0, r0
 766 0004 7047     		bx	lr
 767              		.cfi_endproc
 768              	.LFE39:
 770              		.section	.text.SPI_NSSInternalSoftwareConfig,"ax",%progbits
 771              		.align	1
 772              		.global	SPI_NSSInternalSoftwareConfig
 773              		.syntax unified
 774              		.thumb
 775              		.thumb_func
 777              	SPI_NSSInternalSoftwareConfig:
 778              	.LVL65:
 779              	.LFB40:
 570:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 571:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 572:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Configures internally by software the NSS pin for the selected SPI.
 573:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 574:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_NSSInternalSoft: specifies the SPI NSS internal state.
 575:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 576:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_NSSInternalSoft_Set: Set NSS pin internally
 577:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_NSSInternalSoft_Reset: Reset NSS pin internally
 578:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 579:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 580:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_NSSInternalSoftwareConfig(SPI_TypeDef* SPIx, uint16_t SPI_NSSInternalSoft)
 581:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 780              		.loc 1 581 1 is_stmt 1 view -0
 781              		.cfi_startproc
 782              		@ args = 0, pretend = 0, frame = 0
 783              		@ frame_needed = 0, uses_anonymous_args = 0
 784              		@ link register save eliminated.
ARM GAS  /tmp/ccPKNLrh.s 			page 25


 582:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 583:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 785              		.loc 1 583 3 view .LVU249
 584:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_NSS_INTERNAL(SPI_NSSInternalSoft));
 786              		.loc 1 584 3 view .LVU250
 585:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_NSSInternalSoft != SPI_NSSInternalSoft_Reset)
 787              		.loc 1 585 3 view .LVU251
 788              		.loc 1 585 6 is_stmt 0 view .LVU252
 789 0000 4FF6FF63 		movw	r3, #65279
 790 0004 9942     		cmp	r1, r3
 791 0006 05D0     		beq	.L43
 586:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 587:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set NSS pin internally by software */
 588:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= SPI_NSSInternalSoft_Set;
 792              		.loc 1 588 5 is_stmt 1 view .LVU253
 793              		.loc 1 588 9 is_stmt 0 view .LVU254
 794 0008 0388     		ldrh	r3, [r0]
 795 000a 9BB2     		uxth	r3, r3
 796              		.loc 1 588 15 view .LVU255
 797 000c 43F48073 		orr	r3, r3, #256
 798 0010 0380     		strh	r3, [r0]	@ movhi
 799 0012 7047     		bx	lr
 800              	.L43:
 589:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 590:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 591:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 592:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Reset NSS pin internally by software */
 593:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= SPI_NSSInternalSoft_Reset;
 801              		.loc 1 593 5 is_stmt 1 view .LVU256
 802              		.loc 1 593 9 is_stmt 0 view .LVU257
 803 0014 0388     		ldrh	r3, [r0]
 804 0016 9BB2     		uxth	r3, r3
 805              		.loc 1 593 15 view .LVU258
 806 0018 23F48073 		bic	r3, r3, #256
 807 001c 9BB2     		uxth	r3, r3
 808 001e 0380     		strh	r3, [r0]	@ movhi
 594:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 595:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 809              		.loc 1 595 1 view .LVU259
 810 0020 7047     		bx	lr
 811              		.cfi_endproc
 812              	.LFE40:
 814              		.section	.text.SPI_SSOutputCmd,"ax",%progbits
 815              		.align	1
 816              		.global	SPI_SSOutputCmd
 817              		.syntax unified
 818              		.thumb
 819              		.thumb_func
 821              	SPI_SSOutputCmd:
 822              	.LVL66:
 823              	.LFB41:
 596:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 597:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 598:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the SS output for the selected SPI.
 599:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 600:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx SS output. 
 601:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
ARM GAS  /tmp/ccPKNLrh.s 			page 26


 602:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 603:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 604:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_SSOutputCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 605:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 824              		.loc 1 605 1 is_stmt 1 view -0
 825              		.cfi_startproc
 826              		@ args = 0, pretend = 0, frame = 0
 827              		@ frame_needed = 0, uses_anonymous_args = 0
 828              		@ link register save eliminated.
 606:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 607:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 829              		.loc 1 607 3 view .LVU261
 608:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 830              		.loc 1 608 3 view .LVU262
 609:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 831              		.loc 1 609 3 view .LVU263
 832              		.loc 1 609 6 is_stmt 0 view .LVU264
 833 0000 29B1     		cbz	r1, .L46
 610:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 611:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI SS output */
 612:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= CR2_SSOE_Set;
 834              		.loc 1 612 5 is_stmt 1 view .LVU265
 835              		.loc 1 612 9 is_stmt 0 view .LVU266
 836 0002 8388     		ldrh	r3, [r0, #4]
 837 0004 9BB2     		uxth	r3, r3
 838              		.loc 1 612 15 view .LVU267
 839 0006 43F00403 		orr	r3, r3, #4
 840 000a 8380     		strh	r3, [r0, #4]	@ movhi
 841 000c 7047     		bx	lr
 842              	.L46:
 613:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 614:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 615:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 616:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI SS output */
 617:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= CR2_SSOE_Reset;
 843              		.loc 1 617 5 is_stmt 1 view .LVU268
 844              		.loc 1 617 9 is_stmt 0 view .LVU269
 845 000e 8388     		ldrh	r3, [r0, #4]
 846 0010 9BB2     		uxth	r3, r3
 847              		.loc 1 617 15 view .LVU270
 848 0012 23F00403 		bic	r3, r3, #4
 849 0016 9BB2     		uxth	r3, r3
 850 0018 8380     		strh	r3, [r0, #4]	@ movhi
 618:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 619:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 851              		.loc 1 619 1 view .LVU271
 852 001a 7047     		bx	lr
 853              		.cfi_endproc
 854              	.LFE41:
 856              		.section	.text.SPI_DataSizeConfig,"ax",%progbits
 857              		.align	1
 858              		.global	SPI_DataSizeConfig
 859              		.syntax unified
 860              		.thumb
 861              		.thumb_func
 863              	SPI_DataSizeConfig:
 864              	.LVL67:
ARM GAS  /tmp/ccPKNLrh.s 			page 27


 865              	.LFB42:
 620:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 621:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 622:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Configures the data size for the selected SPI.
 623:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 624:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_DataSize: specifies the SPI data size.
 625:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 626:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_DataSize_16b: Set data frame format to 16bit
 627:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_DataSize_8b: Set data frame format to 8bit
 628:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 629:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 630:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_DataSizeConfig(SPI_TypeDef* SPIx, uint16_t SPI_DataSize)
 631:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 866              		.loc 1 631 1 is_stmt 1 view -0
 867              		.cfi_startproc
 868              		@ args = 0, pretend = 0, frame = 0
 869              		@ frame_needed = 0, uses_anonymous_args = 0
 870              		@ link register save eliminated.
 632:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 633:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 871              		.loc 1 633 3 view .LVU273
 634:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_DataSize));
 872              		.loc 1 634 3 view .LVU274
 635:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear DFF bit */
 636:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 &= (uint16_t)~SPI_DataSize_16b;
 873              		.loc 1 636 3 view .LVU275
 874              		.loc 1 636 7 is_stmt 0 view .LVU276
 875 0000 0388     		ldrh	r3, [r0]
 876 0002 9BB2     		uxth	r3, r3
 877              		.loc 1 636 13 view .LVU277
 878 0004 23F40063 		bic	r3, r3, #2048
 879 0008 9BB2     		uxth	r3, r3
 880 000a 0380     		strh	r3, [r0]	@ movhi
 637:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set new DFF bit value */
 638:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 |= SPI_DataSize;
 881              		.loc 1 638 3 is_stmt 1 view .LVU278
 882              		.loc 1 638 7 is_stmt 0 view .LVU279
 883 000c 0388     		ldrh	r3, [r0]
 884 000e 9BB2     		uxth	r3, r3
 885              		.loc 1 638 13 view .LVU280
 886 0010 0B43     		orrs	r3, r3, r1
 887 0012 0380     		strh	r3, [r0]	@ movhi
 639:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 888              		.loc 1 639 1 view .LVU281
 889 0014 7047     		bx	lr
 890              		.cfi_endproc
 891              	.LFE42:
 893              		.section	.text.SPI_TransmitCRC,"ax",%progbits
 894              		.align	1
 895              		.global	SPI_TransmitCRC
 896              		.syntax unified
 897              		.thumb
 898              		.thumb_func
 900              	SPI_TransmitCRC:
 901              	.LVL68:
 902              	.LFB43:
 640:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
ARM GAS  /tmp/ccPKNLrh.s 			page 28


 641:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 642:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Transmit the SPIx CRC value.
 643:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 644:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 645:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 646:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_TransmitCRC(SPI_TypeDef* SPIx)
 647:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 903              		.loc 1 647 1 is_stmt 1 view -0
 904              		.cfi_startproc
 905              		@ args = 0, pretend = 0, frame = 0
 906              		@ frame_needed = 0, uses_anonymous_args = 0
 907              		@ link register save eliminated.
 648:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 649:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 908              		.loc 1 649 3 view .LVU283
 650:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 651:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Enable the selected SPI CRC transmission */
 652:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 |= CR1_CRCNext_Set;
 909              		.loc 1 652 3 view .LVU284
 910              		.loc 1 652 7 is_stmt 0 view .LVU285
 911 0000 0388     		ldrh	r3, [r0]
 912 0002 9BB2     		uxth	r3, r3
 913              		.loc 1 652 13 view .LVU286
 914 0004 43F48053 		orr	r3, r3, #4096
 915 0008 0380     		strh	r3, [r0]	@ movhi
 653:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 916              		.loc 1 653 1 view .LVU287
 917 000a 7047     		bx	lr
 918              		.cfi_endproc
 919              	.LFE43:
 921              		.section	.text.SPI_CalculateCRC,"ax",%progbits
 922              		.align	1
 923              		.global	SPI_CalculateCRC
 924              		.syntax unified
 925              		.thumb
 926              		.thumb_func
 928              	SPI_CalculateCRC:
 929              	.LVL69:
 930              	.LFB44:
 654:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 655:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 656:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the CRC value calculation of the transferred bytes.
 657:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 658:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx CRC value calculation.
 659:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 660:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 661:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 662:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_CalculateCRC(SPI_TypeDef* SPIx, FunctionalState NewState)
 663:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 931              		.loc 1 663 1 is_stmt 1 view -0
 932              		.cfi_startproc
 933              		@ args = 0, pretend = 0, frame = 0
 934              		@ frame_needed = 0, uses_anonymous_args = 0
 935              		@ link register save eliminated.
 664:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 665:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 936              		.loc 1 665 3 view .LVU289
ARM GAS  /tmp/ccPKNLrh.s 			page 29


 666:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 937              		.loc 1 666 3 view .LVU290
 667:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 938              		.loc 1 667 3 view .LVU291
 939              		.loc 1 667 6 is_stmt 0 view .LVU292
 940 0000 29B1     		cbz	r1, .L51
 668:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 669:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI CRC calculation */
 670:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= CR1_CRCEN_Set;
 941              		.loc 1 670 5 is_stmt 1 view .LVU293
 942              		.loc 1 670 9 is_stmt 0 view .LVU294
 943 0002 0388     		ldrh	r3, [r0]
 944 0004 9BB2     		uxth	r3, r3
 945              		.loc 1 670 15 view .LVU295
 946 0006 43F40053 		orr	r3, r3, #8192
 947 000a 0380     		strh	r3, [r0]	@ movhi
 948 000c 7047     		bx	lr
 949              	.L51:
 671:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 672:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 673:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 674:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI CRC calculation */
 675:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= CR1_CRCEN_Reset;
 950              		.loc 1 675 5 is_stmt 1 view .LVU296
 951              		.loc 1 675 9 is_stmt 0 view .LVU297
 952 000e 0388     		ldrh	r3, [r0]
 953 0010 9BB2     		uxth	r3, r3
 954              		.loc 1 675 15 view .LVU298
 955 0012 23F40053 		bic	r3, r3, #8192
 956 0016 9BB2     		uxth	r3, r3
 957 0018 0380     		strh	r3, [r0]	@ movhi
 676:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 677:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 958              		.loc 1 677 1 view .LVU299
 959 001a 7047     		bx	lr
 960              		.cfi_endproc
 961              	.LFE44:
 963              		.section	.text.SPI_GetCRC,"ax",%progbits
 964              		.align	1
 965              		.global	SPI_GetCRC
 966              		.syntax unified
 967              		.thumb
 968              		.thumb_func
 970              	SPI_GetCRC:
 971              	.LVL70:
 972              	.LFB45:
 678:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 679:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 680:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the transmit or the receive CRC register value for the specified SPI.
 681:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 682:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_CRC: specifies the CRC register to be read.
 683:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 684:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_CRC_Tx: Selects Tx CRC register
 685:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_CRC_Rx: Selects Rx CRC register
 686:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The selected CRC register value..
 687:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 688:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_GetCRC(SPI_TypeDef* SPIx, uint8_t SPI_CRC)
ARM GAS  /tmp/ccPKNLrh.s 			page 30


 689:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 973              		.loc 1 689 1 is_stmt 1 view -0
 974              		.cfi_startproc
 975              		@ args = 0, pretend = 0, frame = 0
 976              		@ frame_needed = 0, uses_anonymous_args = 0
 977              		@ link register save eliminated.
 690:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t crcreg = 0;
 978              		.loc 1 690 3 view .LVU301
 691:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 692:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 979              		.loc 1 692 3 view .LVU302
 693:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CRC(SPI_CRC));
 980              		.loc 1 693 3 view .LVU303
 694:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_CRC != SPI_CRC_Rx)
 981              		.loc 1 694 3 view .LVU304
 982              		.loc 1 694 6 is_stmt 0 view .LVU305
 983 0000 0129     		cmp	r1, #1
 984 0002 02D0     		beq	.L54
 695:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 696:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Tx CRC register */
 697:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     crcreg = SPIx->TXCRCR;
 985              		.loc 1 697 5 is_stmt 1 view .LVU306
 986              		.loc 1 697 12 is_stmt 0 view .LVU307
 987 0004 008B     		ldrh	r0, [r0, #24]
 988              	.LVL71:
 989              		.loc 1 697 12 view .LVU308
 990 0006 80B2     		uxth	r0, r0
 991              	.LVL72:
 992              		.loc 1 697 12 view .LVU309
 993 0008 7047     		bx	lr
 994              	.LVL73:
 995              	.L54:
 698:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 699:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 700:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 701:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Rx CRC register */
 702:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     crcreg = SPIx->RXCRCR;
 996              		.loc 1 702 5 is_stmt 1 view .LVU310
 997              		.loc 1 702 12 is_stmt 0 view .LVU311
 998 000a 808A     		ldrh	r0, [r0, #20]
 999              	.LVL74:
 1000              		.loc 1 702 12 view .LVU312
 1001 000c 80B2     		uxth	r0, r0
 1002              	.LVL75:
 703:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 704:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the selected CRC register */
 705:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return crcreg;
 1003              		.loc 1 705 3 is_stmt 1 view .LVU313
 706:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1004              		.loc 1 706 1 is_stmt 0 view .LVU314
 1005 000e 7047     		bx	lr
 1006              		.cfi_endproc
 1007              	.LFE45:
 1009              		.section	.text.SPI_GetCRCPolynomial,"ax",%progbits
 1010              		.align	1
 1011              		.global	SPI_GetCRCPolynomial
 1012              		.syntax unified
ARM GAS  /tmp/ccPKNLrh.s 			page 31


 1013              		.thumb
 1014              		.thumb_func
 1016              	SPI_GetCRCPolynomial:
 1017              	.LVL76:
 1018              	.LFB46:
 707:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 708:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 709:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the CRC Polynomial register value for the specified SPI.
 710:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 711:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The CRC Polynomial register value.
 712:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 713:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_GetCRCPolynomial(SPI_TypeDef* SPIx)
 714:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1019              		.loc 1 714 1 is_stmt 1 view -0
 1020              		.cfi_startproc
 1021              		@ args = 0, pretend = 0, frame = 0
 1022              		@ frame_needed = 0, uses_anonymous_args = 0
 1023              		@ link register save eliminated.
 715:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 716:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1024              		.loc 1 716 3 view .LVU316
 717:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 718:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the CRC polynomial register */
 719:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return SPIx->CRCPR;
 1025              		.loc 1 719 3 view .LVU317
 1026              		.loc 1 719 14 is_stmt 0 view .LVU318
 1027 0000 008A     		ldrh	r0, [r0, #16]
 1028              	.LVL77:
 720:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1029              		.loc 1 720 1 view .LVU319
 1030 0002 80B2     		uxth	r0, r0
 1031 0004 7047     		bx	lr
 1032              		.cfi_endproc
 1033              	.LFE46:
 1035              		.section	.text.SPI_BiDirectionalLineConfig,"ax",%progbits
 1036              		.align	1
 1037              		.global	SPI_BiDirectionalLineConfig
 1038              		.syntax unified
 1039              		.thumb
 1040              		.thumb_func
 1042              	SPI_BiDirectionalLineConfig:
 1043              	.LVL78:
 1044              	.LFB47:
 721:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 722:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 723:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Selects the data transfer direction in bi-directional mode for the specified SPI.
 724:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 725:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_Direction: specifies the data transfer direction in bi-directional mode. 
 726:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 727:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_Direction_Tx: Selects Tx transmission direction
 728:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_Direction_Rx: Selects Rx receive direction
 729:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 730:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 731:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_BiDirectionalLineConfig(SPI_TypeDef* SPIx, uint16_t SPI_Direction)
 732:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1045              		.loc 1 732 1 is_stmt 1 view -0
 1046              		.cfi_startproc
ARM GAS  /tmp/ccPKNLrh.s 			page 32


 1047              		@ args = 0, pretend = 0, frame = 0
 1048              		@ frame_needed = 0, uses_anonymous_args = 0
 1049              		@ link register save eliminated.
 733:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 734:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1050              		.loc 1 734 3 view .LVU321
 735:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DIRECTION(SPI_Direction));
 1051              		.loc 1 735 3 view .LVU322
 736:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_Direction == SPI_Direction_Tx)
 1052              		.loc 1 736 3 view .LVU323
 1053              		.loc 1 736 6 is_stmt 0 view .LVU324
 1054 0000 B1F5804F 		cmp	r1, #16384
 1055 0004 06D0     		beq	.L60
 737:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 738:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the Tx only mode */
 739:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= SPI_Direction_Tx;
 740:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 741:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 742:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 743:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the Rx only mode */
 744:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= SPI_Direction_Rx;
 1056              		.loc 1 744 5 is_stmt 1 view .LVU325
 1057              		.loc 1 744 9 is_stmt 0 view .LVU326
 1058 0006 0388     		ldrh	r3, [r0]
 1059 0008 9BB2     		uxth	r3, r3
 1060              		.loc 1 744 15 view .LVU327
 1061 000a 23F48043 		bic	r3, r3, #16384
 1062 000e 9BB2     		uxth	r3, r3
 1063 0010 0380     		strh	r3, [r0]	@ movhi
 745:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 746:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1064              		.loc 1 746 1 view .LVU328
 1065 0012 7047     		bx	lr
 1066              	.L60:
 739:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 1067              		.loc 1 739 5 is_stmt 1 view .LVU329
 739:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 1068              		.loc 1 739 9 is_stmt 0 view .LVU330
 1069 0014 0388     		ldrh	r3, [r0]
 1070 0016 9BB2     		uxth	r3, r3
 739:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 1071              		.loc 1 739 15 view .LVU331
 1072 0018 43F48043 		orr	r3, r3, #16384
 1073 001c 0380     		strh	r3, [r0]	@ movhi
 1074 001e 7047     		bx	lr
 1075              		.cfi_endproc
 1076              	.LFE47:
 1078              		.section	.text.SPI_I2S_GetFlagStatus,"ax",%progbits
 1079              		.align	1
 1080              		.global	SPI_I2S_GetFlagStatus
 1081              		.syntax unified
 1082              		.thumb
 1083              		.thumb_func
 1085              	SPI_I2S_GetFlagStatus:
 1086              	.LVL79:
 1087              	.LFB48:
 747:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
ARM GAS  /tmp/ccPKNLrh.s 			page 33


 748:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 749:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Checks whether the specified SPI/I2S flag is set or not.
 750:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 751:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 752:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 753:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI/I2S flag to check. 
 754:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 755:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_TXE: Transmit buffer empty flag.
 756:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_RXNE: Receive buffer not empty flag.
 757:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_BSY: Busy flag.
 758:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_OVR: Overrun flag.
 759:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_FLAG_MODF: Mode Fault flag.
 760:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_FLAG_CRCERR: CRC Error flag.
 761:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_FLAG_UDR: Underrun Error flag.
 762:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_FLAG_CHSIDE: Channel Side flag.
 763:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The new state of SPI_I2S_FLAG (SET or RESET).
 764:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 765:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
 766:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1088              		.loc 1 766 1 is_stmt 1 view -0
 1089              		.cfi_startproc
 1090              		@ args = 0, pretend = 0, frame = 0
 1091              		@ frame_needed = 0, uses_anonymous_args = 0
 1092              		@ link register save eliminated.
 767:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   FlagStatus bitstatus = RESET;
 1093              		.loc 1 767 3 view .LVU333
 768:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 769:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1094              		.loc 1 769 3 view .LVU334
 770:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_GET_FLAG(SPI_I2S_FLAG));
 1095              		.loc 1 770 3 view .LVU335
 771:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the status of the specified SPI/I2S flag */
 772:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if ((SPIx->SR & SPI_I2S_FLAG) != (uint16_t)RESET)
 1096              		.loc 1 772 3 view .LVU336
 1097              		.loc 1 772 12 is_stmt 0 view .LVU337
 1098 0000 0389     		ldrh	r3, [r0, #8]
 1099              		.loc 1 772 6 view .LVU338
 1100 0002 1942     		tst	r1, r3
 1101 0004 01D0     		beq	.L63
 773:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 774:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_FLAG is set */
 775:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = SET;
 1102              		.loc 1 775 15 view .LVU339
 1103 0006 0120     		movs	r0, #1
 1104              	.LVL80:
 1105              		.loc 1 775 15 view .LVU340
 1106 0008 7047     		bx	lr
 1107              	.LVL81:
 1108              	.L63:
 776:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 777:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 778:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 779:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_FLAG is reset */
 780:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = RESET;
 1109              		.loc 1 780 15 view .LVU341
 1110 000a 0020     		movs	r0, #0
 1111              	.LVL82:
ARM GAS  /tmp/ccPKNLrh.s 			page 34


 781:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 782:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the SPI_I2S_FLAG status */
 783:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return  bitstatus;
 1112              		.loc 1 783 3 is_stmt 1 view .LVU342
 784:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1113              		.loc 1 784 1 is_stmt 0 view .LVU343
 1114 000c 7047     		bx	lr
 1115              		.cfi_endproc
 1116              	.LFE48:
 1118              		.section	.text.SPI_I2S_ClearFlag,"ax",%progbits
 1119              		.align	1
 1120              		.global	SPI_I2S_ClearFlag
 1121              		.syntax unified
 1122              		.thumb
 1123              		.thumb_func
 1125              	SPI_I2S_ClearFlag:
 1126              	.LVL83:
 1127              	.LFB49:
 785:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 786:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 787:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) flag.
 788:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 789:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 790:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to clear. 
 791:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This function clears only CRCERR flag.
 792:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
 793:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - OVR (OverRun error) flag is cleared by software sequence: a read 
 794:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_DR register (SPI_I2S_ReceiveData()) followed by a read 
 795:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetFlagStatus()).
 796:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - UDR (UnderRun error) flag is cleared by a read operation to 
 797:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     SPI_SR register (SPI_I2S_GetFlagStatus()).
 798:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - MODF (Mode Fault) flag is cleared by software sequence: a read/write 
 799:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetFlagStatus()) followed by a 
 800:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     write operation to SPI_CR1 register (SPI_Cmd() to enable the SPI).
 801:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 802:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 803:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
 804:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1128              		.loc 1 804 1 is_stmt 1 view -0
 1129              		.cfi_startproc
 1130              		@ args = 0, pretend = 0, frame = 0
 1131              		@ frame_needed = 0, uses_anonymous_args = 0
 1132              		@ link register save eliminated.
 805:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 806:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1133              		.loc 1 806 3 view .LVU345
 807:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_FLAG(SPI_I2S_FLAG));
 1134              		.loc 1 807 3 view .LVU346
 808:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     
 809:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Clear the selected SPI CRC Error (CRCERR) flag */
 810:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->SR = (uint16_t)~SPI_I2S_FLAG;
 1135              		.loc 1 810 5 view .LVU347
 1136              		.loc 1 810 16 is_stmt 0 view .LVU348
 1137 0000 C943     		mvns	r1, r1
 1138              	.LVL84:
 1139              		.loc 1 810 16 view .LVU349
 1140 0002 89B2     		uxth	r1, r1
ARM GAS  /tmp/ccPKNLrh.s 			page 35


 1141              	.LVL85:
 1142              		.loc 1 810 14 view .LVU350
 1143 0004 0181     		strh	r1, [r0, #8]	@ movhi
 811:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1144              		.loc 1 811 1 view .LVU351
 1145 0006 7047     		bx	lr
 1146              		.cfi_endproc
 1147              	.LFE49:
 1149              		.section	.text.SPI_I2S_GetITStatus,"ax",%progbits
 1150              		.align	1
 1151              		.global	SPI_I2S_GetITStatus
 1152              		.syntax unified
 1153              		.thumb
 1154              		.thumb_func
 1156              	SPI_I2S_GetITStatus:
 1157              	.LVL86:
 1158              	.LFB50:
 812:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 813:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 814:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Checks whether the specified SPI/I2S interrupt has occurred or not.
 815:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 816:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 817:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 818:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI/I2S interrupt source to check. 
 819:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 820:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_TXE: Transmit buffer empty interrupt.
 821:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_RXNE: Receive buffer not empty interrupt.
 822:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_OVR: Overrun interrupt.
 823:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_IT_MODF: Mode Fault interrupt.
 824:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_IT_CRCERR: CRC Error interrupt.
 825:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_IT_UDR: Underrun Error interrupt.
 826:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The new state of SPI_I2S_IT (SET or RESET).
 827:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 828:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
 829:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1159              		.loc 1 829 1 is_stmt 1 view -0
 1160              		.cfi_startproc
 1161              		@ args = 0, pretend = 0, frame = 0
 1162              		@ frame_needed = 0, uses_anonymous_args = 0
 1163              		@ link register save eliminated.
 830:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ITStatus bitstatus = RESET;
 1164              		.loc 1 830 3 view .LVU353
 831:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0, itmask = 0, enablestatus = 0;
 1165              		.loc 1 831 3 view .LVU354
 832:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 833:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 834:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1166              		.loc 1 834 3 view .LVU355
 835:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_GET_IT(SPI_I2S_IT));
 1167              		.loc 1 835 3 view .LVU356
 836:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 837:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT index */
 838:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1168              		.loc 1 838 3 view .LVU357
 1169              		.loc 1 838 31 is_stmt 0 view .LVU358
 1170 0000 01F00F0C 		and	ip, r1, #15
 1171              		.loc 1 838 16 view .LVU359
ARM GAS  /tmp/ccPKNLrh.s 			page 36


 1172 0004 0123     		movs	r3, #1
 1173 0006 03FA0CFC 		lsl	ip, r3, ip
 1174              	.LVL87:
 839:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 840:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT mask */
 841:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = SPI_I2S_IT >> 4;
 1175              		.loc 1 841 3 is_stmt 1 view .LVU360
 1176              		.loc 1 841 10 is_stmt 0 view .LVU361
 1177 000a 0909     		lsrs	r1, r1, #4
 1178              	.LVL88:
 842:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 843:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set the IT mask */
 844:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = 0x01 << itmask;
 1179              		.loc 1 844 3 is_stmt 1 view .LVU362
 1180              		.loc 1 844 17 is_stmt 0 view .LVU363
 1181 000c 8B40     		lsls	r3, r3, r1
 1182              	.LVL89:
 845:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 846:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI_I2S_IT enable bit status */
 847:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   enablestatus = (SPIx->CR2 & itmask) ;
 1183              		.loc 1 847 3 is_stmt 1 view .LVU364
 1184              		.loc 1 847 23 is_stmt 0 view .LVU365
 1185 000e 8288     		ldrh	r2, [r0, #4]
 1186 0010 92B2     		uxth	r2, r2
 1187              		.loc 1 847 16 view .LVU366
 1188 0012 1340     		ands	r3, r3, r2
 1189              	.LVL90:
 848:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 849:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the status of the specified SPI/I2S interrupt */
 850:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (((SPIx->SR & itpos) != (uint16_t)RESET) && enablestatus)
 1190              		.loc 1 850 3 is_stmt 1 view .LVU367
 1191              		.loc 1 850 13 is_stmt 0 view .LVU368
 1192 0014 0289     		ldrh	r2, [r0, #8]
 1193 0016 92B2     		uxth	r2, r2
 1194              		.loc 1 850 6 view .LVU369
 1195 0018 1CEA020F 		tst	ip, r2
 1196 001c 02D0     		beq	.L67
 1197              		.loc 1 850 47 discriminator 1 view .LVU370
 1198 001e 1BB9     		cbnz	r3, .L68
 851:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 852:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_IT is set */
 853:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = SET;
 854:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 855:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 856:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 857:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_IT is reset */
 858:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = RESET;
 1199              		.loc 1 858 15 view .LVU371
 1200 0020 0020     		movs	r0, #0
 1201              	.LVL91:
 1202              		.loc 1 858 15 view .LVU372
 1203 0022 7047     		bx	lr
 1204              	.LVL92:
 1205              	.L67:
 1206              		.loc 1 858 15 view .LVU373
 1207 0024 0020     		movs	r0, #0
 1208              	.LVL93:
ARM GAS  /tmp/ccPKNLrh.s 			page 37


 1209              		.loc 1 858 15 view .LVU374
 1210 0026 7047     		bx	lr
 1211              	.LVL94:
 1212              	.L68:
 853:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 1213              		.loc 1 853 15 view .LVU375
 1214 0028 0120     		movs	r0, #1
 1215              	.LVL95:
 859:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 860:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the SPI_I2S_IT status */
 861:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return bitstatus;
 1216              		.loc 1 861 3 is_stmt 1 view .LVU376
 862:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1217              		.loc 1 862 1 is_stmt 0 view .LVU377
 1218 002a 7047     		bx	lr
 1219              		.cfi_endproc
 1220              	.LFE50:
 1222              		.section	.text.SPI_I2S_ClearITPendingBit,"ax",%progbits
 1223              		.align	1
 1224              		.global	SPI_I2S_ClearITPendingBit
 1225              		.syntax unified
 1226              		.thumb
 1227              		.thumb_func
 1229              	SPI_I2S_ClearITPendingBit:
 1230              	.LVL96:
 1231              	.LFB51:
 863:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 864:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 865:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) interrupt pending bit.
 866:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 867:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 868:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt pending bit to clear.
 869:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This function clears only CRCERR interrupt pending bit.   
 870:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
 871:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - OVR (OverRun Error) interrupt pending bit is cleared by software 
 872:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     sequence: a read operation to SPI_DR register (SPI_I2S_ReceiveData()) 
 873:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     followed by a read operation to SPI_SR register (SPI_I2S_GetITStatus()).
 874:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - UDR (UnderRun Error) interrupt pending bit is cleared by a read 
 875:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetITStatus()).
 876:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - MODF (Mode Fault) interrupt pending bit is cleared by software sequence:
 877:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     a read/write operation to SPI_SR register (SPI_I2S_GetITStatus()) 
 878:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     followed by a write operation to SPI_CR1 register (SPI_Cmd() to enable 
 879:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     the SPI).
 880:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 881:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 882:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
 883:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 1232              		.loc 1 883 1 is_stmt 1 view -0
 1233              		.cfi_startproc
 1234              		@ args = 0, pretend = 0, frame = 0
 1235              		@ frame_needed = 0, uses_anonymous_args = 0
 1236              		@ link register save eliminated.
 884:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0;
 1237              		.loc 1 884 3 view .LVU379
 885:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 886:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1238              		.loc 1 886 3 view .LVU380
ARM GAS  /tmp/ccPKNLrh.s 			page 38


 887:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_IT(SPI_I2S_IT));
 1239              		.loc 1 887 3 view .LVU381
 888:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 889:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI IT index */
 890:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1240              		.loc 1 890 3 view .LVU382
 1241              		.loc 1 890 31 is_stmt 0 view .LVU383
 1242 0000 01F00F01 		and	r1, r1, #15
 1243              	.LVL97:
 1244              		.loc 1 890 16 view .LVU384
 1245 0004 0123     		movs	r3, #1
 1246 0006 8B40     		lsls	r3, r3, r1
 1247              		.loc 1 890 9 view .LVU385
 1248 0008 9BB2     		uxth	r3, r3
 1249              	.LVL98:
 891:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 892:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) interrupt pending bit */
 893:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->SR = (uint16_t)~itpos;
 1250              		.loc 1 893 3 is_stmt 1 view .LVU386
 1251              		.loc 1 893 14 is_stmt 0 view .LVU387
 1252 000a DB43     		mvns	r3, r3
 1253              	.LVL99:
 1254              		.loc 1 893 14 view .LVU388
 1255 000c 9BB2     		uxth	r3, r3
 1256              	.LVL100:
 1257              		.loc 1 893 12 view .LVU389
 1258 000e 0381     		strh	r3, [r0, #8]	@ movhi
 894:./Libraries/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 1259              		.loc 1 894 1 view .LVU390
 1260 0010 7047     		bx	lr
 1261              		.cfi_endproc
 1262              	.LFE51:
 1264              		.text
 1265              	.Letext0:
 1266              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1267              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1268              		.file 4 "./Libraries/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
 1269              		.file 5 "./Libraries/STM32F10x_StdPeriph_Driver/inc/stm32f10x_rcc.h"
 1270              		.file 6 "./Libraries/STM32F10x_StdPeriph_Driver/inc/stm32f10x_spi.h"
ARM GAS  /tmp/ccPKNLrh.s 			page 39


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_spi.c
     /tmp/ccPKNLrh.s:19     .text.SPI_I2S_DeInit:00000000 $t
     /tmp/ccPKNLrh.s:25     .text.SPI_I2S_DeInit:00000000 SPI_I2S_DeInit
     /tmp/ccPKNLrh.s:107    .text.SPI_I2S_DeInit:00000058 $d
     /tmp/ccPKNLrh.s:114    .text.SPI_Init:00000000 $t
     /tmp/ccPKNLrh.s:120    .text.SPI_Init:00000000 SPI_Init
     /tmp/ccPKNLrh.s:210    .text.I2S_Init:00000000 $t
     /tmp/ccPKNLrh.s:216    .text.I2S_Init:00000000 I2S_Init
     /tmp/ccPKNLrh.s:432    .text.I2S_Init:000000b4 $d
     /tmp/ccPKNLrh.s:437    .text.SPI_StructInit:00000000 $t
     /tmp/ccPKNLrh.s:443    .text.SPI_StructInit:00000000 SPI_StructInit
     /tmp/ccPKNLrh.s:486    .text.I2S_StructInit:00000000 $t
     /tmp/ccPKNLrh.s:492    .text.I2S_StructInit:00000000 I2S_StructInit
     /tmp/ccPKNLrh.s:526    .text.SPI_Cmd:00000000 $t
     /tmp/ccPKNLrh.s:532    .text.SPI_Cmd:00000000 SPI_Cmd
     /tmp/ccPKNLrh.s:568    .text.I2S_Cmd:00000000 $t
     /tmp/ccPKNLrh.s:574    .text.I2S_Cmd:00000000 I2S_Cmd
     /tmp/ccPKNLrh.s:610    .text.SPI_I2S_ITConfig:00000000 $t
     /tmp/ccPKNLrh.s:616    .text.SPI_I2S_ITConfig:00000000 SPI_I2S_ITConfig
     /tmp/ccPKNLrh.s:675    .text.SPI_I2S_DMACmd:00000000 $t
     /tmp/ccPKNLrh.s:681    .text.SPI_I2S_DMACmd:00000000 SPI_I2S_DMACmd
     /tmp/ccPKNLrh.s:721    .text.SPI_I2S_SendData:00000000 $t
     /tmp/ccPKNLrh.s:727    .text.SPI_I2S_SendData:00000000 SPI_I2S_SendData
     /tmp/ccPKNLrh.s:745    .text.SPI_I2S_ReceiveData:00000000 $t
     /tmp/ccPKNLrh.s:751    .text.SPI_I2S_ReceiveData:00000000 SPI_I2S_ReceiveData
     /tmp/ccPKNLrh.s:771    .text.SPI_NSSInternalSoftwareConfig:00000000 $t
     /tmp/ccPKNLrh.s:777    .text.SPI_NSSInternalSoftwareConfig:00000000 SPI_NSSInternalSoftwareConfig
     /tmp/ccPKNLrh.s:815    .text.SPI_SSOutputCmd:00000000 $t
     /tmp/ccPKNLrh.s:821    .text.SPI_SSOutputCmd:00000000 SPI_SSOutputCmd
     /tmp/ccPKNLrh.s:857    .text.SPI_DataSizeConfig:00000000 $t
     /tmp/ccPKNLrh.s:863    .text.SPI_DataSizeConfig:00000000 SPI_DataSizeConfig
     /tmp/ccPKNLrh.s:894    .text.SPI_TransmitCRC:00000000 $t
     /tmp/ccPKNLrh.s:900    .text.SPI_TransmitCRC:00000000 SPI_TransmitCRC
     /tmp/ccPKNLrh.s:922    .text.SPI_CalculateCRC:00000000 $t
     /tmp/ccPKNLrh.s:928    .text.SPI_CalculateCRC:00000000 SPI_CalculateCRC
     /tmp/ccPKNLrh.s:964    .text.SPI_GetCRC:00000000 $t
     /tmp/ccPKNLrh.s:970    .text.SPI_GetCRC:00000000 SPI_GetCRC
     /tmp/ccPKNLrh.s:1010   .text.SPI_GetCRCPolynomial:00000000 $t
     /tmp/ccPKNLrh.s:1016   .text.SPI_GetCRCPolynomial:00000000 SPI_GetCRCPolynomial
     /tmp/ccPKNLrh.s:1036   .text.SPI_BiDirectionalLineConfig:00000000 $t
     /tmp/ccPKNLrh.s:1042   .text.SPI_BiDirectionalLineConfig:00000000 SPI_BiDirectionalLineConfig
     /tmp/ccPKNLrh.s:1079   .text.SPI_I2S_GetFlagStatus:00000000 $t
     /tmp/ccPKNLrh.s:1085   .text.SPI_I2S_GetFlagStatus:00000000 SPI_I2S_GetFlagStatus
     /tmp/ccPKNLrh.s:1119   .text.SPI_I2S_ClearFlag:00000000 $t
     /tmp/ccPKNLrh.s:1125   .text.SPI_I2S_ClearFlag:00000000 SPI_I2S_ClearFlag
     /tmp/ccPKNLrh.s:1150   .text.SPI_I2S_GetITStatus:00000000 $t
     /tmp/ccPKNLrh.s:1156   .text.SPI_I2S_GetITStatus:00000000 SPI_I2S_GetITStatus
     /tmp/ccPKNLrh.s:1223   .text.SPI_I2S_ClearITPendingBit:00000000 $t
     /tmp/ccPKNLrh.s:1229   .text.SPI_I2S_ClearITPendingBit:00000000 SPI_I2S_ClearITPendingBit

UNDEFINED SYMBOLS
RCC_APB2PeriphResetCmd
RCC_APB1PeriphResetCmd
RCC_GetClocksFreq
